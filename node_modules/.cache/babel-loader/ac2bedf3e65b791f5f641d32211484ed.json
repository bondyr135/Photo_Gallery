{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ravid\\\\Desktop\\\\RavidDT\\\\Coding\\\\Projects\\\\jp1_Album\\\\src\\\\components\\\\Menu\\\\Menu.js\";\nimport React, { Component } from 'react';\nimport './Menu.css';\nimport Photos from '../Photos/Photos';\nimport Photo from '../Photo/Photo';\nimport Right from '../../containers/Right/Right';\nimport Left from '../../containers/Left/Left';\n\nclass Menu extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      display: this.props.photos.slice(0, 1),\n      shownPhotos: this.props.photos.slice(1, 6),\n      photosAfter: this.props.photos.slice(6),\n      photosBefore: []\n    };\n    this.onNavigation = this.onNavigation.bind(this);\n    this.onChoosingHandler = this.onChoosingHandler.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.photos !== this.props.photos) {\n      this.setState({\n        display: Object.assign({}, ...this.props.photos.slice(0, 1)),\n        shownPhotos: this.props.photos.slice(1, 6),\n        photosAfter: this.props.photos.slice(6),\n        photosBefore: []\n      });\n    } else {\n      return;\n    }\n  }\n\n  onNavigation(direction) {\n    var newPhotosBefore, newPhotosAfter, newPhotos;\n\n    switch (direction) {\n      case \"right\":\n        newPhotosBefore = this.state.photosBefore.concat([...this.state.shownPhotos]);\n        newPhotosAfter = [...this.state.photosAfter];\n        newPhotos = newPhotosAfter.splice(0, 5);\n        this.setState({\n          photosBefore: newPhotosBefore,\n          shownPhotos: newPhotos,\n          photosAfter: newPhotosAfter\n        });\n        break;\n\n      case \"left\":\n        newPhotosAfter = [...this.state.shownPhotos].concat([...this.state.photosAfter]);\n        newPhotosBefore = [...this.state.photosBefore];\n        newPhotos = newPhotosBefore.splice(newPhotosBefore.length - 5);\n        this.setState({\n          photosBefore: newPhotosBefore,\n          shownPhotos: newPhotos,\n          photosAfter: newPhotosAfter\n        });\n        break;\n\n      default:\n        return this.state;\n    }\n  }\n\n  onChoosingHandler(chosenPhotoProps) {\n    let copiedPhotos = [...this.state.shownPhotos];\n    const clickedPhotoIndex = copiedPhotos.findIndex((photo, i) => {\n      return photo.id === chosenPhotoProps.id;\n    });\n    const clickedPhoto = Object.assign({}, chosenPhotoProps);\n    copiedPhotos[clickedPhotoIndex] = Object.assign({}, this.state.display);\n    this.setState({\n      display: clickedPhoto,\n      shownPhotos: copiedPhotos\n    });\n    this.props.show(clickedPhoto);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Photos, {\n      photos: this.state.shownPhotos,\n      clicked: chosenPhotoProps => this.onChoosingHandler(chosenPhotoProps),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(Left, {\n      navLeft: () => this.onNavigation('left'),\n      noLeft: this.state.photosBefore.length === 0,\n      prevPage: () => this.props.browse('prev'),\n      disabled: this.state.photosBefore.length !== 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(Right, {\n      navRight: () => this.onNavigation('right'),\n      noRight: this.state.photosAfter.length == 0,\n      nxtPage: () => this.props.browse('next'),\n      disabled: !(this.state.photosAfter.length === 0),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }));\n  }\n\n}\n\n;\nexport default Menu;","map":{"version":3,"sources":["C:\\Users\\Ravid\\Desktop\\RavidDT\\Coding\\Projects\\jp1_Album\\src\\components\\Menu\\Menu.js"],"names":["React","Component","Photos","Photo","Right","Left","Menu","constructor","props","state","display","photos","slice","shownPhotos","photosAfter","photosBefore","onNavigation","bind","onChoosingHandler","componentDidUpdate","prevProps","setState","Object","assign","direction","newPhotosBefore","newPhotosAfter","newPhotos","concat","splice","length","chosenPhotoProps","copiedPhotos","clickedPhotoIndex","findIndex","photo","i","id","clickedPhoto","show","render","browse"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport './Menu.css';\r\nimport Photos from '../Photos/Photos';\r\nimport Photo from '../Photo/Photo';\r\nimport Right from '../../containers/Right/Right';\r\nimport Left from '../../containers/Left/Left';\r\n\r\n\r\nclass Menu extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      display: this.props.photos.slice(0, 1),\r\n      shownPhotos: this.props.photos.slice(1, 6),\r\n      photosAfter: this.props.photos.slice(6),\r\n      photosBefore: []\r\n\r\n    }\r\n    this.onNavigation = this.onNavigation.bind(this);\r\n    this.onChoosingHandler = this.onChoosingHandler.bind(this);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.photos !== this.props.photos) {\r\n      this.setState({\r\n        display: Object.assign({}, ...this.props.photos.slice(0, 1)),\r\n        shownPhotos: this.props.photos.slice(1, 6),\r\n        photosAfter: this.props.photos.slice(6),\r\n        photosBefore: []\r\n      });\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n\r\n  onNavigation(direction) {\r\n    var newPhotosBefore, newPhotosAfter, newPhotos;\r\n    switch (direction) {\r\n      case \"right\":\r\n        newPhotosBefore = this.state.photosBefore.concat([...this.state.shownPhotos]);\r\n        newPhotosAfter = [...this.state.photosAfter];\r\n        newPhotos = newPhotosAfter.splice(0, 5);\r\n        this.setState({\r\n          photosBefore: newPhotosBefore,\r\n          shownPhotos: newPhotos,\r\n          photosAfter: newPhotosAfter\r\n        });\r\n        break;\r\n      case \"left\":\r\n        newPhotosAfter = [...this.state.shownPhotos].concat([...this.state.photosAfter]);\r\n        newPhotosBefore = [...this.state.photosBefore];\r\n        newPhotos = newPhotosBefore.splice((newPhotosBefore.length - 5));\r\n        this.setState({\r\n          photosBefore: newPhotosBefore,\r\n          shownPhotos: newPhotos,\r\n          photosAfter: newPhotosAfter\r\n        });\r\n        break;\r\n      default:\r\n        return this.state;\r\n    }\r\n  }\r\n\r\n  onChoosingHandler(chosenPhotoProps) {\r\n    let copiedPhotos = [...this.state.shownPhotos];\r\n    const clickedPhotoIndex = copiedPhotos.findIndex((photo, i) => {\r\n      return (photo.id === chosenPhotoProps.id);\r\n    });\r\n    const clickedPhoto = Object.assign({}, chosenPhotoProps);\r\n    copiedPhotos[clickedPhotoIndex] = Object.assign({}, this.state.display);\r\n    this.setState({\r\n      display: clickedPhoto,\r\n      shownPhotos: copiedPhotos\r\n    });\r\n    this.props.show(clickedPhoto);\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Menu\">\r\n        <Photos\r\n          photos={this.state.shownPhotos}\r\n          clicked={(chosenPhotoProps) => this.onChoosingHandler(chosenPhotoProps)}\r\n        />\r\n\r\n        <Left\r\n          navLeft={() => this.onNavigation('left')}\r\n          noLeft={this.state.photosBefore.length === 0}\r\n\r\n          prevPage={() => this.props.browse('prev')}\r\n          disabled={this.state.photosBefore.length !== 0} />\r\n\r\n        <Right\r\n          navRight={() => this.onNavigation('right')}\r\n          noRight={this.state.photosAfter.length == 0}\r\n\r\n          nxtPage={() => this.props.browse('next')}\r\n          disabled={!(this.state.photosAfter.length === 0)} />\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nexport default Menu;"]},"metadata":{},"sourceType":"module"}
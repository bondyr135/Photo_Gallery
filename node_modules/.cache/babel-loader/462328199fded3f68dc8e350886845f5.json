{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ravid\\\\Desktop\\\\RavidDT\\\\Coding\\\\Projects\\\\jp1_Album\\\\src\\\\containers\\\\Album\\\\Album.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport IMAGES from '../../pictures/index';\nimport Menu from '../../components/Menu/Menu';\nimport { url, key, nextUrl } from '../../Unsplash/Unsplash';\nimport Layout from '../Layout/Layout';\nimport './Album.css';\nconst HREF = 'https://unsplash.com/photos';\n\nclass Album extends Component {\n  constructor(props) {\n    super(props);\n\n    this.likingHandler = () => this.props.doLike(this.state.displayedPhoto);\n\n    this.state = {\n      displayedPhoto: null,\n      photos: [],\n      likes: [],\n      currPage: 1\n    };\n    this.likingHandler = this.likingHandler.bind(this);\n    this.unLikingHandler = this.unLikingHandler.bind(this);\n    this.onBrowsingHandler = this.onBrowsingHandler.bind(this);\n    this.getPhotos = this.getPhotos.bind(this);\n    this.showDemiPhotos = this.showDemiPhotos.bind(this);\n  }\n\n  componentDidMount() {\n    this.getPhotos(this.state.currPage);\n  }\n\n  getPhotos(newPage) {\n    axios.get(\"\".concat(url).concat(newPage).concat(nextUrl), {\n      headers: {\n        'Authorization': \"Client-ID XXX\".concat(key),\n        'Accept-Version': 'v1',\n        'scope': 'public'\n      },\n      params: {\n        per_page: '26'\n      }\n    }).then(res => {\n      this.setState({\n        currPage: newPage\n      });\n      this.showPhotos(res);\n    }).catch(rej => {\n      console.log('is this it?');\n      console.log(rej);\n      this.showDemiPhotos(IMAGES);\n    });\n  }\n\n  showDemiPhotos(images) {\n    // const parsedPhotos = images.map(item => {\n    //   let itemATT = item.src.split('-');\n    //   let itemID = itemATT[ itemATT - 2 ];\n    //   return {\n    //   }\n    // });\n    images.forEach(img => {\n      let imgDetails = img.src.substring(2).split('-');\n      console.log(imgDetails);\n      imgDetails.pop();\n      let imgKey = imgDetails.pop();\n      let imgTitle = imgDetails.join(' ');\n      console.log(imgTitle);\n      return {\n        key: imgDetails[imgDetails.length - 2],\n        title: imgTitle,\n        alt: imgTitle\n      };\n    });\n  }\n\n  showPhotos(res) {\n    const parsedPhotos = res.data.map(photo => {\n      return {\n        key: photo.id,\n        alt: photo.alt_description || photo.title,\n        title: photo.alt_description || photo.title,\n        id: photo.id,\n        href: photo.urls ? photo.urls.regular : photo.href\n      };\n    });\n    const centerPhoto = Object.assign({}, parsedPhotos[0]);\n    this.setState({\n      displayedPhoto: centerPhoto,\n      photos: parsedPhotos\n    });\n  }\n\n  onBrowsingHandler(direction) {\n    switch (direction) {\n      case 'prev':\n        if (this.state.currPage === 1) {\n          return;\n        } else {\n          this.getPhotos(this.state.currPage - 1);\n        }\n\n        break;\n\n      case 'next':\n        this.getPhotos(this.state.currPage + 1);\n        break;\n\n      default:\n        return this.state;\n    }\n  }\n\n  onNavigation(direction) {\n    var newPhotosAfter, newPhotosBefore, newPhotos;\n\n    switch (direction) {\n      case \"right\":\n        newPhotosBefore = this.state.photosBefore.concat([...this.state.shownPhotos]);\n        newPhotosAfter = [...this.state.photosAfter];\n        newPhotos = newPhotosAfter.splice(0, 5);\n        this.setState({\n          photosBefore: newPhotosBefore,\n          shownPhotos: newPhotos,\n          photosAfter: newPhotosAfter\n        });\n        break;\n\n      case \"left\":\n        newPhotosAfter = [...this.state.shownPhotos].concat([...this.state.photosAfter]);\n        newPhotosBefore = [...this.state.photosBefore];\n        newPhotos = newPhotosBefore.splice(newPhotosBefore.length - 5);\n        this.setState({\n          photosBefore: newPhotosBefore,\n          shownPhotos: newPhotos,\n          photosAfter: newPhotosAfter\n        });\n        break;\n\n      default:\n        return this.state;\n    }\n  }\n\n  unLikingHandler() {\n    this.props.unLike(this.state.displayedPhoto.id);\n  }\n\n  displayingHandler(photo) {\n    this.setState({\n      displayedPhoto: photo\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Album\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(Layout, {\n      photo: this.state.displayedPhoto,\n      onLiking: this.likingHandler,\n      onUnLiking: this.unLikingHandler,\n      clear: this.props.clear,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }), React.createElement(Menu, {\n      photos: this.state.photos,\n      displayedData: this.state.displayedPhoto,\n      show: chosenPhoto => this.displayingHandler(chosenPhoto),\n      browse: direction => this.onBrowsingHandler(direction),\n      clicked: chosenId => this.onChoosingHandler(chosenId),\n      isLeftest: this.state.currPage === 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Album;","map":{"version":3,"sources":["C:\\Users\\Ravid\\Desktop\\RavidDT\\Coding\\Projects\\jp1_Album\\src\\containers\\Album\\Album.js"],"names":["React","Component","axios","IMAGES","Menu","url","key","nextUrl","Layout","HREF","Album","constructor","props","likingHandler","doLike","state","displayedPhoto","photos","likes","currPage","bind","unLikingHandler","onBrowsingHandler","getPhotos","showDemiPhotos","componentDidMount","newPage","get","headers","params","per_page","then","res","setState","showPhotos","catch","rej","console","log","images","forEach","img","imgDetails","src","substring","split","pop","imgKey","imgTitle","join","length","title","alt","parsedPhotos","data","map","photo","id","alt_description","href","urls","regular","centerPhoto","Object","assign","direction","onNavigation","newPhotosAfter","newPhotosBefore","newPhotos","photosBefore","concat","shownPhotos","photosAfter","splice","unLike","displayingHandler","render","clear","chosenPhoto","chosenId","onChoosingHandler"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport IMAGES from '../../pictures/index';\r\n\r\nimport Menu from '../../components/Menu/Menu';\r\nimport { url, key, nextUrl } from '../../Unsplash/Unsplash';\r\nimport Layout from '../Layout/Layout';\r\nimport './Album.css';\r\n\r\nconst HREF = 'https://unsplash.com/photos';\r\nclass Album extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      displayedPhoto: null,\r\n      photos: [],\r\n      likes: [],\r\n      currPage: 1\r\n    }\r\n    this.likingHandler = this.likingHandler.bind(this);\r\n    this.unLikingHandler = this.unLikingHandler.bind(this);\r\n    this.onBrowsingHandler = this.onBrowsingHandler.bind(this);\r\n    this.getPhotos = this.getPhotos.bind(this);\r\n    this.showDemiPhotos = this.showDemiPhotos.bind(this);\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    this.getPhotos(this.state.currPage);\r\n  }\r\n\r\n  getPhotos(newPage) {\r\n    axios.get(`${url}${newPage}${nextUrl}`, {\r\n      headers: {\r\n        'Authorization': `Client-ID XXX${key}`,\r\n        'Accept-Version': 'v1',\r\n        'scope': 'public'\r\n      },\r\n      params: {\r\n        per_page: '26'\r\n      }\r\n    })\r\n      .then(res => {\r\n        this.setState({ currPage: newPage })\r\n        this.showPhotos(res)\r\n        })\r\n      .catch(rej => {\r\n        console.log('is this it?');\r\n        console.log(rej);\r\n        this.showDemiPhotos(IMAGES);\r\n      })\r\n  }\r\n\r\n  showDemiPhotos(images) {\r\n    // const parsedPhotos = images.map(item => {\r\n    //   let itemATT = item.src.split('-');\r\n    //   let itemID = itemATT[ itemATT - 2 ];\r\n    //   return {\r\n\r\n    //   }\r\n    // });\r\n    images.forEach(img => {\r\n      let imgDetails = img.src.substring(2).split('-');\r\n      console.log(imgDetails);\r\n      imgDetails.pop()\r\n\r\n      let imgKey = imgDetails.pop();\r\n      let imgTitle = imgDetails.join(' ');\r\n      console.log(imgTitle);\r\n      return {\r\n        key: imgDetails[imgDetails.length - 2],\r\n        title: imgTitle,\r\n        alt: imgTitle,\r\n      }\r\n    })\r\n  }\r\n\r\n  showPhotos(res) {\r\n    const parsedPhotos = res.data.map(photo => {\r\n      return {\r\n        key: photo.id,\r\n        alt: photo.alt_description || photo.title,\r\n        title: photo.alt_description || photo.title,\r\n        id: photo.id,\r\n        href: (photo.urls ? photo.urls.regular : photo.href)\r\n      }\r\n    })\r\n    const centerPhoto = Object.assign({}, parsedPhotos[0]);\r\n    this.setState({\r\n      displayedPhoto: centerPhoto,\r\n      photos: parsedPhotos\r\n    });\r\n  }\r\n\r\n  onBrowsingHandler(direction) {\r\n    switch (direction) {\r\n      case 'prev':\r\n        if (this.state.currPage === 1) {\r\n          return;\r\n        } else {\r\n          this.getPhotos( this.state.currPage - 1);\r\n        }\r\n        break;\r\n      case 'next':\r\n        this.getPhotos(this.state.currPage + 1);\r\n        break;\r\n      default:\r\n        return this.state;\r\n    }\r\n  }\r\n\r\n  onNavigation(direction) {\r\n    var newPhotosAfter, newPhotosBefore, newPhotos;\r\n    switch (direction) {\r\n      case \"right\":\r\n        newPhotosBefore = this.state.photosBefore.concat([...this.state.shownPhotos]);\r\n        newPhotosAfter = [...this.state.photosAfter];\r\n        newPhotos = newPhotosAfter.splice(0, 5);\r\n        this.setState({\r\n          photosBefore: newPhotosBefore,\r\n          shownPhotos: newPhotos,\r\n          photosAfter: newPhotosAfter\r\n        });\r\n        break;\r\n      case \"left\":\r\n        newPhotosAfter = [...this.state.shownPhotos].concat([...this.state.photosAfter]);\r\n        newPhotosBefore = [...this.state.photosBefore];\r\n        newPhotos = newPhotosBefore.splice((newPhotosBefore.length - 5));\r\n        this.setState({\r\n          photosBefore: newPhotosBefore,\r\n          shownPhotos: newPhotos,\r\n          photosAfter: newPhotosAfter\r\n        });\r\n        break;\r\n      default:\r\n        return this.state;\r\n    }\r\n  }\r\n\r\n  likingHandler = () => this.props.doLike(this.state.displayedPhoto);\r\n\r\n\r\n  unLikingHandler() {\r\n    this.props.unLike(this.state.displayedPhoto.id);\r\n  }\r\n\r\n  displayingHandler(photo) {\r\n    this.setState({ displayedPhoto: photo });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Album\">\r\n        <Layout\r\n          photo={this.state.displayedPhoto}\r\n          onLiking={this.likingHandler}\r\n          onUnLiking={this.unLikingHandler}\r\n          clear={this.props.clear}\r\n        />\r\n        \r\n        <Menu\r\n          photos={this.state.photos}\r\n          displayedData={this.state.displayedPhoto}\r\n          show={chosenPhoto => this.displayingHandler(chosenPhoto)}\r\n          browse={(direction) => this.onBrowsingHandler(direction)}\r\n          clicked={(chosenId) => this.onChoosingHandler(chosenId)}\r\n          isLeftest={this.state.currPage === 1}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Album;"]},"metadata":{},"sourceType":"module"}
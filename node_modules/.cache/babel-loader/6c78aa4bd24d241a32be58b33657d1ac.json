{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ravid\\\\Desktop\\\\RavidDT\\\\Coding\\\\Projects\\\\jp1_Album_public\\\\src\\\\index.js\";\nimport React, { Component } from \"react\";\nimport { render } from \"react-dom\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport \"./style.css\";\nimport Album from \"./containers/Album/Album\";\nimport Likes from \"./containers/Likes/Likes\";\nimport Like from \"./containers/Like/Like\";\nimport Nav from \"./containers/Nav/Nav\";\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.cleanStorage = () => {\n      window.localStorage.clear();\n      this.setState({\n        likes: []\n      });\n    };\n\n    this.state = {\n      likes: [],\n      photo: {\n        id: \"\",\n        title: \"\",\n        src: \"\"\n      }\n    };\n    this.addLike = this.addLike.bind(this);\n    this.removeLike = this.removeLike.bind(this);\n    this.enlargePhoto = this.enlargePhoto.bind(this);\n  }\n\n  componentDidMount() {\n    let passLikes = [];\n    const keys = Object.keys(window.localStorage);\n\n    for (let i = 0; i < keys.length; i++) {\n      if (keys[i] !== \"editorHasEmittedBundle\" && keys[i] !== \"editorLastConnected\" && keys[i] !== \"firebase:host:stackblitz.firebaseio.com\") {\n        passLikes.push(keys[i]);\n      }\n    }\n\n    this.setState({\n      likes: passLikes\n    });\n  }\n\n  addLike(p) {\n    window.localStorage.setItem(p.id, JSON.stringify(p));\n    this.setState(state => {\n      return {\n        likes: [...state.likes, p.id]\n      };\n    });\n  }\n\n  removeLike(id) {\n    if (localStorage.getItem(id)) {\n      window.localStorage.removeItem(id);\n    }\n\n    this.setState(state => {\n      return {\n        likes: state.likes.filter(likedId => {\n          return likedId !== id;\n        })\n      };\n    });\n  }\n\n  enlargePhoto(p) {\n    this.setState({\n      photo: {\n        id: p.id,\n        src: p.src || p.href,\n        title: p.title\n      }\n    });\n  }\n\n  render() {\n    const p = this.state.photo;\n    return React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => React.createElement(Album, {\n        doLike: pic => this.addLike(pic),\n        unLike: id => this.removeLike(id),\n        clear: this.cleanStorage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/likes\",\n      render: () => React.createElement(Likes, {\n        removeLike: id => this.removeLike(id),\n        likes: this.state.likes,\n        click: photo => this.enlargePhoto(photo),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/likes/\".concat(p.id),\n      render: () => React.createElement(Like, {\n        src: p.src,\n        id: p.id,\n        title: p.title,\n        deleteLike: id => this.removeLike(id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nrender(React.createElement(App, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 125\n  },\n  __self: this\n}), document.getElementById(\"root\"));","map":{"version":3,"sources":["C:\\Users\\Ravid\\Desktop\\RavidDT\\Coding\\Projects\\jp1_Album_public\\src\\index.js"],"names":["React","Component","render","BrowserRouter","Router","Route","Switch","Album","Likes","Like","Nav","App","constructor","cleanStorage","window","localStorage","clear","setState","likes","state","photo","id","title","src","addLike","bind","removeLike","enlargePhoto","componentDidMount","passLikes","keys","Object","i","length","push","p","setItem","JSON","stringify","getItem","removeItem","filter","likedId","href","pic","document","getElementById"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { render } from \"react-dom\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport \"./style.css\";\nimport Album from \"./containers/Album/Album\";\nimport Likes from \"./containers/Likes/Likes\";\nimport Like from \"./containers/Like/Like\";\nimport Nav from \"./containers/Nav/Nav\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      likes: [],\n      photo: {\n        id: \"\",\n        title: \"\",\n        src: \"\",\n      },\n    };\n    this.addLike = this.addLike.bind(this);\n    this.removeLike = this.removeLike.bind(this);\n    this.enlargePhoto = this.enlargePhoto.bind(this);\n  }\n\n  componentDidMount() {\n    let passLikes = [];\n    const keys = Object.keys(window.localStorage);\n    for (let i = 0; i < keys.length; i++) {\n      if (\n        keys[i] !== \"editorHasEmittedBundle\" &&\n        keys[i] !== \"editorLastConnected\" &&\n        keys[i] !== \"firebase:host:stackblitz.firebaseio.com\"\n      ) {\n        passLikes.push(keys[i]);\n      }\n    }\n    this.setState({ likes: passLikes });\n  }\n\n  addLike(p) {\n    window.localStorage.setItem(p.id, JSON.stringify(p));\n    this.setState((state) => {\n      return { likes: [...state.likes, p.id] };\n    });\n  }\n\n  removeLike(id) {\n    if (localStorage.getItem(id)) {\n      window.localStorage.removeItem(id);\n    }\n    this.setState((state) => {\n      return {\n        likes: state.likes.filter((likedId) => {\n          return likedId !== id;\n        }),\n      };\n    });\n  }\n\n  cleanStorage = () => {\n    window.localStorage.clear();\n    this.setState({ likes: [] });\n  };\n\n  enlargePhoto(p) {\n    this.setState({\n      photo: {\n        id: p.id,\n        src: p.src || p.href,\n        title: p.title,\n      },\n    });\n  }\n\n  render() {\n    const p = this.state.photo;\n    return (\n      <Router>\n        <div className=\"App\">\n          <Nav />\n          <Switch>\n            <Route\n              exact\n              path=\"/\"\n              render={() => (\n                <Album\n                  doLike={(pic) => this.addLike(pic)}\n                  unLike={(id) => this.removeLike(id)}\n                  clear={this.cleanStorage}\n                />\n              )}\n            />\n            <Route\n              exact\n              path=\"/likes\"\n              render={() => (\n                <Likes\n                  removeLike={(id) => this.removeLike(id)}\n                  likes={this.state.likes}\n                  click={(photo) => this.enlargePhoto(photo)}\n                />\n              )}\n            />\n            <Route\n              exact\n              path={`/likes/${p.id}`}\n              render={() => (\n                <Like\n                  src={p.src}\n                  id={p.id}\n                  title={p.title}\n                  deleteLike={(id) => this.removeLike(id)}\n                />\n              )}\n            />\n          </Switch>\n        </div>\n      </Router>\n    );\n  }\n}\n\nrender(<App />, document.getElementById(\"root\"));\n"]},"metadata":{},"sourceType":"module"}
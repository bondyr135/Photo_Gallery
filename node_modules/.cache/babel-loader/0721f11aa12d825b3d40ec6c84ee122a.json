{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ravid\\\\Desktop\\\\RavidDT\\\\Coding\\\\Projects\\\\jp1_Album\\\\src\\\\containers\\\\Album\\\\Album.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport pic1 from '../../pictures'; //import pic1 from 'src\\pictures\\alex-azabache-624WUhcCm4w-unsplash.jpg';\n\nimport Menu from '../../components/Menu/Menu';\nimport { url, key, nextUrl } from '../../Unsplash/Unsplash';\nimport Layout from '../Layout/Layout';\nimport './Album.css';\n\nclass Album extends Component {\n  constructor(props) {\n    super(props);\n\n    this.likingHandler = () => this.props.doLike(this.state.displayedPhoto);\n\n    this.state = {\n      displayedPhoto: null,\n      photos: [],\n      likes: [],\n      currPage: 1\n    };\n    this.likingHandler = this.likingHandler.bind(this);\n    this.unLikingHandler = this.unLikingHandler.bind(this);\n    this.onBrowsingHandler = this.onBrowsingHandler.bind(this);\n    this.getPhotos = this.getPhotos.bind(this);\n  }\n\n  componentDidMount() {\n    this.getPhotos(this.state.currPage);\n  }\n\n  getPhotos(newPage) {\n    axios.get(\"\".concat(url).concat(newPage).concat(nextUrl), {\n      headers: {\n        'Authorization': \"Client-ID \".concat(key),\n        'Accept-Version': 'v1',\n        'scope': 'public'\n      },\n      params: {\n        per_page: '26'\n      }\n    }).then(res => {\n      this.setState({\n        currPage: newPage\n      });\n      this.showPhotos(res);\n    }).catch(rej => {\n      console.log('is this it?');\n      console.log(rej);\n      this.setState({\n        displayedPhoto: pic1\n      });\n    });\n  }\n\n  showPhotos(res) {\n    const parsedPhotos = res.data.map(photo => {\n      return {\n        key: photo.id,\n        title: photo.alt_description || photo.title,\n        id: photo.id,\n        href: photo.urls ? photo.urls.regular : photo.href\n      };\n    });\n    const centerPhoto = Object.assign({}, parsedPhotos[0]);\n    this.setState({\n      displayedPhoto: centerPhoto,\n      photos: parsedPhotos\n    });\n  }\n\n  onBrowsingHandler(direction) {\n    switch (direction) {\n      case 'prev':\n        if (this.state.currPage == 1) {\n          return;\n        } else {\n          this.getPhotos(this.state.currPage - 1);\n        }\n\n        break;\n\n      case 'next':\n        this.getPhotos(this.state.currPage + 1);\n        break;\n\n      default:\n        return this.state;\n    }\n  }\n\n  onNavigation(direction) {\n    var newPhotosAfter, newPhotosBefore, newPhotos;\n\n    switch (direction) {\n      case \"right\":\n        newPhotosBefore = this.state.photosBefore.concat([...this.state.shownPhotos]);\n        newPhotosAfter = [...this.state.photosAfter];\n        newPhotos = newPhotosAfter.splice(0, 5);\n        this.setState({\n          photosBefore: newPhotosBefore,\n          shownPhotos: newPhotos,\n          photosAfter: newPhotosAfter\n        });\n        break;\n\n      case \"left\":\n        newPhotosAfter = [...this.state.shownPhotos].concat([...this.state.photosAfter]);\n        newPhotosBefore = [...this.state.photosBefore];\n        newPhotos = newPhotosBefore.splice(newPhotosBefore.length - 5);\n        this.setState({\n          photosBefore: newPhotosBefore,\n          shownPhotos: newPhotos,\n          photosAfter: newPhotosAfter\n        });\n        break;\n\n      default:\n        return this.state;\n    }\n  }\n\n  unLikingHandler() {\n    this.props.unLike(this.state.displayedPhoto.id);\n  }\n\n  displayingHandler(photo) {\n    this.setState({\n      displayedPhoto: photo\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Album\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(Layout, {\n      photo: this.state.displayedPhoto,\n      onLiking: this.likingHandler,\n      onUnLiking: this.unLikingHandler,\n      clear: this.props.clear,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }), React.createElement(Menu, {\n      photos: this.state.photos,\n      displayedData: this.state.displayedPhoto,\n      show: chosenPhoto => this.displayingHandler(chosenPhoto),\n      browse: direction => this.onBrowsingHandler(direction),\n      clicked: chosenId => this.onChoosingHandler(chosenId),\n      isLeftest: this.state.currPage === 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Album;","map":{"version":3,"sources":["C:\\Users\\Ravid\\Desktop\\RavidDT\\Coding\\Projects\\jp1_Album\\src\\containers\\Album\\Album.js"],"names":["React","Component","axios","pic1","Menu","url","key","nextUrl","Layout","Album","constructor","props","likingHandler","doLike","state","displayedPhoto","photos","likes","currPage","bind","unLikingHandler","onBrowsingHandler","getPhotos","componentDidMount","newPage","get","headers","params","per_page","then","res","setState","showPhotos","catch","rej","console","log","parsedPhotos","data","map","photo","id","title","alt_description","href","urls","regular","centerPhoto","Object","assign","direction","onNavigation","newPhotosAfter","newPhotosBefore","newPhotos","photosBefore","concat","shownPhotos","photosAfter","splice","length","unLike","displayingHandler","render","clear","chosenPhoto","chosenId","onChoosingHandler"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport pic1 from '../../pictures';\r\n//import pic1 from 'src\\pictures\\alex-azabache-624WUhcCm4w-unsplash.jpg';\r\n\r\nimport Menu from '../../components/Menu/Menu';\r\nimport { url, key, nextUrl } from '../../Unsplash/Unsplash';\r\nimport Layout from '../Layout/Layout';\r\nimport './Album.css';\r\n\r\n\r\nclass Album extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      displayedPhoto: null,\r\n      photos: [],\r\n      likes: [],\r\n      currPage: 1\r\n    }\r\n    this.likingHandler = this.likingHandler.bind(this);\r\n    this.unLikingHandler = this.unLikingHandler.bind(this);\r\n    this.onBrowsingHandler = this.onBrowsingHandler.bind(this);\r\n    this.getPhotos = this.getPhotos.bind(this);\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    this.getPhotos(this.state.currPage);\r\n  }\r\n\r\n  getPhotos(newPage) {\r\n    axios.get(`${url}${newPage}${nextUrl}`, {\r\n      headers: {\r\n        'Authorization': `Client-ID ${key}`,\r\n        'Accept-Version': 'v1',\r\n        'scope': 'public'\r\n      },\r\n      params: {\r\n        per_page: '26'\r\n      }\r\n    })\r\n      .then(res => {\r\n        this.setState({ currPage: newPage })\r\n        this.showPhotos(res)\r\n        })\r\n      .catch(rej => {\r\n        console.log('is this it?');\r\n        console.log(rej);\r\n        this.setState({ displayedPhoto: pic1 })\r\n      })\r\n      \r\n  }\r\n\r\n  showPhotos(res) {\r\n    const parsedPhotos = res.data.map(photo => {\r\n      return {\r\n        key: photo.id,\r\n        title: photo.alt_description || photo.title,\r\n        id: photo.id,\r\n        href: (photo.urls ? photo.urls.regular : photo.href)\r\n      }\r\n    })\r\n    const centerPhoto = Object.assign({}, parsedPhotos[0]);\r\n    this.setState({\r\n      displayedPhoto: centerPhoto,\r\n      photos: parsedPhotos\r\n    });\r\n  }\r\n\r\n  onBrowsingHandler(direction) {\r\n    switch (direction) {\r\n      case 'prev':\r\n        if (this.state.currPage == 1) {\r\n          return;\r\n        } else {\r\n          this.getPhotos( this.state.currPage - 1);\r\n        }\r\n        break;\r\n      case 'next':\r\n        this.getPhotos(this.state.currPage + 1);\r\n        break;\r\n      default:\r\n        return this.state;\r\n    }\r\n  }\r\n\r\n  onNavigation(direction) {\r\n    var newPhotosAfter, newPhotosBefore, newPhotos;\r\n    switch (direction) {\r\n      case \"right\":\r\n        newPhotosBefore = this.state.photosBefore.concat([...this.state.shownPhotos]);\r\n        newPhotosAfter = [...this.state.photosAfter];\r\n        newPhotos = newPhotosAfter.splice(0, 5);\r\n        this.setState({\r\n          photosBefore: newPhotosBefore,\r\n          shownPhotos: newPhotos,\r\n          photosAfter: newPhotosAfter\r\n        });\r\n        break;\r\n      case \"left\":\r\n        newPhotosAfter = [...this.state.shownPhotos].concat([...this.state.photosAfter]);\r\n        newPhotosBefore = [...this.state.photosBefore];\r\n        newPhotos = newPhotosBefore.splice((newPhotosBefore.length - 5));\r\n        this.setState({\r\n          photosBefore: newPhotosBefore,\r\n          shownPhotos: newPhotos,\r\n          photosAfter: newPhotosAfter\r\n        });\r\n        break;\r\n      default:\r\n        return this.state;\r\n    }\r\n  }\r\n\r\n  likingHandler = () => this.props.doLike(this.state.displayedPhoto);\r\n\r\n\r\n  unLikingHandler() {\r\n    this.props.unLike(this.state.displayedPhoto.id);\r\n  }\r\n\r\n  displayingHandler(photo) {\r\n    this.setState({ displayedPhoto: photo });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Album\">\r\n        <Layout\r\n          photo={this.state.displayedPhoto}\r\n          onLiking={this.likingHandler}\r\n          onUnLiking={this.unLikingHandler}\r\n          clear={this.props.clear}\r\n        />\r\n        \r\n        <Menu\r\n          photos={this.state.photos}\r\n          displayedData={this.state.displayedPhoto}\r\n          show={chosenPhoto => this.displayingHandler(chosenPhoto)}\r\n          browse={(direction) => this.onBrowsingHandler(direction)}\r\n          clicked={(chosenId) => this.onChoosingHandler(chosenId)}\r\n          isLeftest={this.state.currPage === 1}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Album;"]},"metadata":{},"sourceType":"module"}